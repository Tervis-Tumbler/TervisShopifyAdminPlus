<!DOCTYPE html>
<title>Personalization</title>

<div id="content"></div>
<script type="module">
    var isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime)
    if (isChrome) {
        var ShopifyPOS = {
            fetchCart: function ({
                success,
                error
            }) {
                success(
                    {
                        line_items: [
                            {
                                title: "CLEAR.DWT.CL1.NA.16.OZ.EA.NA",
                                sku: "1001837P"
                            },
                            {
                                title: "CLEAR.ICE.CL1.NA.87.OZ.BX.NA",
                                sku: "1001842P"
                            }
                        ],
                        addLineItemProperties: function (
                            $LineItemIndex,
                            $Properties
                        ) {
                            localStorage.setItem($LineItemIndex, JSON.stringify($Properties, undefined, 2))
                        }
                    }
                )
            }
        }
    }

    async function Get_TervisShopifyCart () {
        return new Promise((resolve, reject) => {
            ShopifyPOS.fetchCart({
                success: resolve,
                error: reject
            })
        })
    }
    window.Get_TervisShopifyCart = Get_TervisShopifyCart
</script>

<script type="module" src="https://unpkg.com/@tervis/tervisshopifyadminpluspersonalizeit@0.1.81?module"></script>